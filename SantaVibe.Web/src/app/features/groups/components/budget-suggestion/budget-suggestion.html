<div class="bg-white shadow rounded-lg p-6">
  <h2 class="text-xl font-semibold text-gray-900 mb-4">Moja Sugestia Budżetu</h2>

  <p class="text-sm text-gray-600 mb-4">
    Zasugeruj kwotę budżetu (opcjonalnie). Organizator zobaczy anonimowe sugestie.
  </p>

  <div class="flex items-center space-x-2">
    <input
      type="number"
      [ngModel]="budgetAmount()"
      (ngModelChange)="onAmountChange($event)"
      [disabled]="!isEditable() || isSaving()"
      class="w-32 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"
      [class.border-red-500]="!isValid()"
      placeholder="0.00"
      min="0"
      step="0.01">
    <span class="text-gray-700 font-medium">PLN</span>
  </div>

  @if (validationError()) {
    <div class="mt-2 text-sm text-red-600">{{ validationError() }}</div>
  }

  <button
    (click)="onSave()"
    [disabled]="!canSave()"
    class="mt-4 px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
    type="button">
    @if (isSaving()) {
      <span class="flex items-center">
        <app-loading-spinner size="sm" />
        <span class="ml-2">Zapisywanie...</span>
      </span>
    } @else {
      <span>Zapisz Sugestię Budżetu</span>
    }
  </button>
</div>
